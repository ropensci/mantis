<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Multiple Time Series Scanner • mantis</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Multiple Time Series Scanner">
<meta name="description" content="Generate interactive html reports that enable quick visual review of multiple related time series stored in a data frame. For static datasets, this can help to identify any temporal artefacts that may affect the validity of subsequent analyses. For live data feeds, regularly scheduled reports can help to pro-actively identify data feed problems or unexpected trends that may require action. The reports are self-contained and shareable without a web server.">
<meta property="og:description" content="Generate interactive html reports that enable quick visual review of multiple related time series stored in a data frame. For static datasets, this can help to identify any temporal artefacts that may affect the validity of subsequent analyses. For live data feeds, regularly scheduled reports can help to pro-actively identify data feed problems or unexpected trends that may require action. The reports are self-contained and shareable without a web server.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">mantis</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/mantis.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/bespoke-reports.html">Creating bespoke reports</a></li>
    <li><a class="dropdown-item" href="articles/alert-rules.html">Specifying alerting rules</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-example-reports" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Example reports</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-example-reports">
<li><a class="dropdown-item" href="articles/example-report-interactive.html">Interactive report</a></li>
    <li><a class="dropdown-item" href="articles/example-report-static-heatmap.html">Heatmap report</a></li>
    <li><a class="dropdown-item" href="articles/example-report-static-multipanel.html">Multipanel report</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ropensci/mantis/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="mantis">mantis<a class="anchor" aria-label="anchor" href="#mantis"></a>
</h1></div>
<!-- badges: start -->

<p>The <code>mantis</code> package generates interactive reports that enable quick visual review of multiple related time series stored in a data frame. This can help with identification of temporal artefacts and unexpected trends. The choice of visualisations include interactive plots with adjustable axes and tooltips showing the individual dates and values, as well as static heatmap and scatter plots for more lightweight applications. E.g.</p>
<p><img src="reference/figures/example_prescription_numbers_interactive.png" width="350"><img src="reference/figures/example_prescription_numbers_heatmap.png" width="350"></p>
<p>The resulting html reports are self-contained and shareable without a web server.</p>
<p>Example reports and more detailed guidance can be found in the <a href="https://ropensci.github.io/mantis/index.html">package website</a>, including how to add <a href="https://ropensci.github.io/mantis/articles/alert-rules.html">alerting rules</a> and how to add <code>mantis</code> visualisations to your own <a href="https://ropensci.github.io/mantis/articles/bespoke-reports.html">bespoke reports</a>.</p>
<div class="section level2">
<h2 id="why-should-i-use-it">Why should I use it?<a class="anchor" aria-label="anchor" href="#why-should-i-use-it"></a>
</h2>
<p>We anticipate two main target users:</p>
<ol style="list-style-type: decimal">
<li><p>Researchers who analyse data from large, temporal datasets, particularly routinely-collected data such as electronic health records. Included as part of the initial analysis stage, it will help you to check for any temporal biases in your datasets before embarking on your main analyses, therefore improving the reliability of your study.</p></li>
<li><p>Managers of live data feeds that are used as a data source for downstream analyses. Regular inspection of data that is frequently updated will help to identify any issues early and enable a timely response to rectify issues such as missing data. While a set of validation checks in a data pipeline could also work in this circumstance, the benefit of this package is the ability to check for temporal anomalies that are obvious to the human eye but that are difficult to capture programmatically.</p></li>
</ol>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install from CRAN</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"mantis"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># or install the current development version</span></span>
<span><span class="co"># either from rOpenSci</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"mantis"</span>,</span>
<span>                 repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'https://ropensci.r-universe.dev'</span>,</span>
<span>                           <span class="st">'https://cloud.r-project.org'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># or direct from source</span></span>
<span><span class="co"># install stable dependencies first</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"remotes"</span>,</span>
<span>  <span class="st">"rmarkdown"</span>,</span>
<span>  <span class="st">"knitr"</span>,</span>
<span>  <span class="st">"reactable"</span>,</span>
<span>  <span class="st">"dplyr"</span>,</span>
<span>  <span class="st">"tidyr"</span>,</span>
<span>  <span class="st">"dygraphs"</span>,</span>
<span>  <span class="st">"xts"</span>,</span>
<span>  <span class="st">"ggplot2"</span>,</span>
<span>  <span class="st">"scales"</span>,</span>
<span>  <span class="st">"purrr"</span>,</span>
<span>  <span class="st">"htmltools"</span>,</span>
<span>  <span class="st">"lubridate"</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ropensci/mantis"</span>, dependencies <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/mantis" class="external-link">mantis</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># this example data frame contains numbers of antibiotic prescriptions </span></span>
<span><span class="co"># in long format</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"example_prescription_numbers"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">example_prescription_numbers</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="do">## # A tibble: 6 × 5</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="do">##   PrescriptionDate Antibiotic    Spectrum NumberOfPrescriptions Location</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="do">##   &lt;date&gt;           &lt;chr&gt;         &lt;chr&gt;                    &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="do">## 1 2022-01-01       Coamoxiclav   Broad                       45 SITE1   </span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="do">## 2 2022-01-01       Gentamicin    Broad                       34 SITE1   </span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="do">## 3 2022-01-01       Ceftriaxone   Broad                       36 SITE1   </span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="do">## 4 2022-01-01       Metronidazole Limited                     17 SITE1   </span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="do">## 5 2022-01-01       Meropenem     Broad                       10 SITE1   </span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="do">## 6 2022-01-01       Vancomycin    Limited                      0 SITE1</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create a report in the working directory, with one tab per Location</span></span>
<span><span class="fu"><a href="reference/mantis_report.html">mantis_report</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">example_prescription_numbers</span>,</span>
<span>  file <span class="op">=</span> <span class="st">"example_prescription_numbers_report.html"</span>,</span>
<span>  inputspec <span class="op">=</span> <span class="fu"><a href="reference/inputspec.html">inputspec</a></span><span class="op">(</span></span>
<span>    timepoint_col <span class="op">=</span> <span class="st">"PrescriptionDate"</span>,</span>
<span>    item_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Location"</span>, <span class="st">"Antibiotic"</span>, <span class="st">"Spectrum"</span><span class="op">)</span>,</span>
<span>    value_col <span class="op">=</span> <span class="st">"NumberOfPrescriptions"</span>,</span>
<span>    tab_col <span class="op">=</span> <span class="st">"Location"</span>,</span>
<span>    timepoint_unit <span class="op">=</span> <span class="st">"day"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="relation-to-other-packages">Relation to other packages<a class="anchor" aria-label="anchor" href="#relation-to-other-packages"></a>
</h2>
<p><code>mantis</code> is designed for use on data that is essentially a collection of time series in a data frame, where you have already decided which values you are interested in reviewing. If you want to check more generally for temporal changes in record-level, non-numeric data, then check out our sister package <a href="https://ropensci.github.io/daiquiri/index.html" class="external-link"><code>daiquiri</code></a>.</p>
<p>If you are not specifically interested in temporal changes, you could try visually inspecting your data frames with <a href="https://docs.ropensci.org/visdat/" class="external-link"><code>visdat</code></a>, or run validation checks on them with <a href="https://docs.ropensci.org/assertr/articles/assertr.html" class="external-link"><code>assertr</code></a> or <a href="https://rstudio.github.io/pointblank/" class="external-link"><code>pointblank</code></a>.</p>
</div>
<div class="section level2">
<h2 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h2>
<p>This work was supported by the National Institute for Health Research Health Protection Research Unit (NIHR HPRU) in Healthcare Associated Infections and Antimicrobial Resistance at the University of Oxford in partnership with the UK Health Security Agency (UKHSA) (NIHR200915), and by the NIHR Oxford Biomedical Research Centre.</p>
</div>
<div class="section level2">
<h2 id="contributing-to-this-package">Contributing to this package<a class="anchor" aria-label="anchor" href="#contributing-to-this-package"></a>
</h2>
<p>Please report any bugs or suggestions by opening a <a href="https://github.com/ropensci/mantis/issues" class="external-link">github issue</a>.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=mantis" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ropensci/mantis/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ropensci/mantis/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing mantis</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>T. Phuong Quan <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-8566-1817" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by T. Phuong Quan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
